# fix issues with RocksDB library
# (potentially no issues in RocksDB, but issues with UBSan
# failing to understand thread-local variables properly)
# there is also a pending issue in upstream RocksDB:
# https://github.com/facebook/rocksdb/issues/10205
# we may get rid of our own suppressions once the upstream
# issue is fixed.
null:third_party/rocksdb/db/memtable.cc
null:third_party/rocksdb/db/db_iter.cc
null:third_party/rocksdb/db/db_impl/db_impl.cc
null:third_party/rocksdb/env/fs_posix.cc
null:third_party/rocksdb/file/random_access_file_reader.cc
null:third_party/rocksdb/file/writable_file_writer.cc
null:third_party/rocksdb/monitoring/perf_step_timer.h
null:third_party/rocksdb/util/user_comparator_wrapper.h
alignment:third_party/rocksdb/util/crc32c.cc

# fix issues with S2 library
vptr:region_coverer.cc
vptr:s2cell.h
vptr:s2cell.cc

# fix some V8 false positive
# TODO(mbkkt) I don't think it's false positive, but probably issue in our version of V8, my issue about serenedb-tests
vptr:v8::Platform
# TODO(mbkkt) Some issue in our version of V8, only in serenedb-tests
vptr:v8::internal::Isolate::~Isolate

# Applying zero offset to null pointer not UB at least in C++20
# https://github.com/libjpeg-turbo/libjpeg-turbo/issues/470
pointer-overflow:third_party/nghttp2/nghttp2-lib/lib/nghttp2_buf.c
pointer-overflow:third_party/lz4/lib/lz4.c

# It's intentional perform operations with nullptr
# TODO(mbkkt) I think it can be fixed with using uintptr_t instead of pointer
pointer-overflow:libs/iresearch/include/iresearch/search/bitset_doc_iterator.cpp

# https://github.com/openssl/openssl/issues/22896
function:third_party/openssl

# TODO(mbkkt) fix alignment issues for fastpack
alignment:libs/basics/bit_packing.cpp

# TODO(mbkkt) fix shift overflow issues in tests, probably just remove this functions and test
shift-base:libs/iresearch/include/iresearch/utils/numeric_utils.cpp
shift-exponent:libs/iresearch/include/iresearch/utils/numeric_utils.cpp
